body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f4f4f4;
    color: #333;
    line-height: 1.6;
    margin: 0;
    padding: 20px;
}

h1, h2, h3, h4 { /* Added h3, h4 for new detail sections */
    color: #333;
}

h1 {
    text-align: center;
    margin-bottom: 30px;
}

.container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin-bottom: 20px;
}

.status-container, .inventory-container {
    display: flex;
    gap: 20px;
    width: 100%;
}

.status-box, .inventory-box, .log-box, .action-box, .action-box-section {
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 15px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    margin-bottom: 20px;
}

.status-box {
    flex: 1;
    min-width: 200px;
}

.inventory-box {
    flex: 1;
    min-width: 200px;
}

.log-action-container {
    display: flex;
    flex-direction: column;
    width: 100%;
    gap: 20px;
}

.log-box {
     width: 100%;
}

.action-box {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
}

#game-output {
    white-space: pre-wrap;
    border: 1px solid #ccc;
    padding: 10px;
    min-height: 250px;
    max-height: 400px;
    overflow-y: auto;
    background-color: #f9f9f9;
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.9em;
    color: #2c3e50;
}

/* General form styling - applies to new detail inputs too */
form div {
    margin-bottom: 10px;
}

label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}

input[type="text"], input[type="number"] { /* Combined for general text/number inputs */
    width: calc(100% - 22px); /* Full width minus padding/border */
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
    margin-bottom: 10px; /* Space below inputs */
}


input[type="submit"] { /* Old main submit, might not be used */
    background-color: #5cb85c;
    color: white;
    padding: 10px 15px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1em;
}

input[type="submit"]:hover {
    background-color: #4cae4c;
}

ul {
    list-style-type: none;
    padding-left: 0;
}

ul li {
    padding: 3px 0;
}

hr {
    border: 0;
    height: 1px;
    background: #ddd;
    margin: 30px 0;
}

/* Styles for New UI Elements */
.action-box-section {
    flex: 1;
    min-width: 250px;
}

#world-map-container h2, #current-location-container h2, #action-details-container h3 { /* Added #action-details-container h3 */
    margin-top: 0;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
    margin-bottom: 15px;
}

#map-destinations ul, #sub-locations-list ul, #current-actions-list ul {
    padding: 0;
    margin: 0;
}

#map-destinations li, #sub-locations-list li, #current-actions-list li {
    margin-bottom: 8px;
}

.map-destination-button, .sub-location-button, .action-button {
    display: block;
    width: 100%;
    padding: 10px 15px;
    border: 1px solid #007bff;
    background-color: #f0f8ff;
    color: #007bff;
    text-align: left;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.95em;
    transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
}

.map-destination-button:hover, .sub-location-button:hover, .action-button:hover {
    background-color: #007bff;
    color: #fff;
}

#current-town-display {
    font-weight: bold;
    color: #28a745;
}

.sub-location-button {
    border-color: #28a745;
    background-color: #f0fff0;
    color: #28a745;
}

.sub-location-button:hover {
    background-color: #28a745;
    color: #fff;
}

.sub-location-description {
    font-size: 0.85em;
    color: #555;
    margin-left: 10px;
    display: block;
}

.action-button {
    border-color: #ffc107;
    background-color: #fffaf0;
    color: #dda000;
}

.action-button:hover {
    background-color: #ffc107;
    color: #333;
}

input[type="hidden"] {
    display: none;
}

/* Styles for Action Detail Sections */
#action-details-container {
    border-top: 2px dashed #ccc; /* Separator for the details container */
    padding-top: 15px;
    margin-top: 20px;
}

.hidden-details {
    display: none; /* Ensures these are hidden by default */
}

.details-section {
    background-color: #fdfdfd; /* Slightly different background for detail sections */
    border: 1px solid #e0e0e0;
    border-radius: 6px;
    padding: 15px;
    margin-top: 10px; /* Space between different detail forms if multiple were somehow shown */
}

.details-section h4 {
    margin-top: 0;
    margin-bottom: 10px;
    border-bottom: 1px solid #f0f0f0;
    padding-bottom: 8px;
}

.details-section label {
    margin-bottom: 3px; /* Slightly less margin for labels in detail sections */
    font-size: 0.9em;
}

/* Inputs within .details-section are already covered by general input[type="text"], input[type="number"] styles */
/* We can add more specific styling if needed */
.details-section input[type="text"],
.details-section input[type="number"] {
    margin-bottom: 15px; /* Ensure space before the submit button */
}

.submit-details-button {
    background-color: #17a2b8; /* Info blue/teal */
    color: white;
    padding: 10px 15px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1em;
    display: block; /* Make it a block to take its own line or control width */
    margin-top: 10px; /* Space above the button */
}

.submit-details-button:hover {
    background-color: #138496; /* Darker shade of info blue/teal */
}

/* New UI Structure Styles */
.game-container {
    display: flex;
    flex-wrap: wrap; /* Allow wrapping for smaller screens if needed, or use grid for more precise control */
    width: 800px;   /* Fixed width for now */
    height: 600px;  /* Fixed height for now */
    border: 2px solid #333; /* Dark border for game-container */
    margin: 20px auto; /* Center it on the page */
    position: relative; /* For absolute positioning of children like settings-popup */
    box-sizing: border-box; /* Include padding and border in the element's total width and height */
}

#map-container {
    flex-grow: 1; /* Takes up available space in the flex container */
    order: 2; /* Central element */
    /* background-color: #a0a0a0; /* Removed placeholder background */
    border: 1px solid #666;
    min-height: 300px; /* Minimum height */
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 5px; /* Optional padding around the SVG */
    box-sizing: border-box;
}

#map-container svg {
    width: 100%;
    height: 100%;
    object-fit: contain; /* Scales SVG down to fit, maintaining aspect ratio */
}

#stats-tab {
    width: 150px;
    order: 1; /* Left side */
    background-color: #e0e0e0; /* Light grey background */
    border: 1px solid #999;
    padding: 10px;
    box-sizing: border-box;
    position: relative; /* For positioning tab content */
}

#inventory-tab {
    width: 150px;
    order: 3; /* Right side */
    background-color: #e0e0e0; /* Light grey background */
    border: 1px solid #999;
    padding: 10px;
    box-sizing: border-box;
    position: relative; /* For positioning tab content */
}

#actions-tab {
    width: 100%; /* Spans full width of game-container */
    height: 100px;
    order: 4; /* Bottom */
    background-color: #c0c0c0; /* Medium grey background */
    border: 1px solid #888;
    padding: 10px;
    box-sizing: border-box;
    position: relative; /* For positioning tab content */
}

#top-right-menu-button {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 80px;
    height: 30px;
    background-color: #f0f0f0; /* Light background for button */
    border: 1px solid #aaa;
    z-index: 10; /* Ensure it's above other elements if they overlap */
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

#settings-popup {
    display: none; /* Hidden by default */
    position: absolute;
    top: 45px; /* Below the menu button */
    right: 10px;
    width: 200px;
    background-color: #fff;
    border: 1px solid #aaa;
    padding: 0; /* Remove padding if ul will have it */
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    z-index: 100; /* Above other elements */
}

#settings-popup ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
}

#settings-popup li {
    padding: 10px 15px;
    cursor: pointer;
    border-bottom: 1px solid #eee;
}

#settings-popup li:last-child {
    border-bottom: none;
}

#settings-popup li:hover {
    background-color: #f5f5f5;
}

#settings-popup a {
    text-decoration: none;
    color: inherit;
    display: block; /* Make the link fill the li for easier clicking */
}


/* Basic styling for the placeholder text within new divs */
#map-container svg text { /* More specific styling for text within map SVG if needed */
    font-weight: bold;
}

/* Placeholder text styling for other tabs, not map-container anymore */
#stats-tab, #inventory-tab, #actions-tab, #top-right-menu-button {
    text-align: center;
    font-size: 0.9em;
    color: #333;
}

.tab-content {
    display: none; /* Hidden by default */
    padding: 10px;
    border: 1px dashed #666;
    margin-top: 5px;
    background-color: #f9f9f9;
    /* Position absolutely within tabs if needed, or just let it flow */
}


/* Ensuring body takes full viewport height if game-container is smaller than viewport and centered */
html, body {
    height: 100%;
    margin: 0; /* Reset default margin on body */
}

body {
    display: flex; /* Use flex to center game-container if it's not 100vw/vh */
    align-items: center; /* Vertically center */
    justify-content: center; /* Horizontally center */
    background-color: #f4f4f4; /* Existing background color */
    padding: 0; /* Reset padding if body is used for centering */
}
/* If game-container is set to 100vw/100vh, then body flex centering is not needed.
   The current fixed size 800x600px will be centered by the body flex properties.
*/

/* Adjusting some existing styles to not conflict with full page layout if body is flex container */
/* The main .container and .log-action-container are part of the old layout,
   which is now commented out in index.html. If they were to be used within the new tabs,
   their styling might need to be adjusted (e.g., width: 100% might not be appropriate).
*/
.container, .log-action-container {
    /* If these were to be used inside a tab, their width might need to be auto or fit-content */
    /* For now, this is fine as they are commented out. */
}
